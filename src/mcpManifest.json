{
  "name": "c64-mcp",
  "version": "0.1.0",
  "description": "Local MCP server for controlling a c64 device via REST API",
  "tools": [
    {
      "name": "upload_and_run_basic",
      "description": "Upload and run a BASIC program on the C64",
      "parameters": { "program": "string" }
    },
    {
      "name": "upload_and_run_asm",
      "description": "Assemble 6502/6510 source to PRG and run it on the C64",
      "parameters": { "program": "string" }
    },
    {
      "name": "upload_and_run_program",
      "description": "Upload and run program with language inference (BASIC vs ASM)",
      "parameters": { "program": "string", "lang": "string" }
    },
    {
      "name": "read_screen",
      "description": "Read 1KB of screen memory from the C64"
    },
    {
      "name": "reset_c64",
      "description": "Reset the C64 via REST API"
    },
    {
      "name": "reboot_c64",
      "description": "Reboot the c64 device firmware"
    },
    {
      "name": "read_memory",
      "description": "Read bytes from main memory and return them as hex",
      "parameters": { "address": "string", "length": "string" }
    },
    {
      "name": "write_memory",
      "description": "Write a hex byte sequence into main memory",
      "parameters": { "address": "string", "bytes": "string" }
    },
    {
      "name": "basic_v2_spec",
      "description": "Get Commodore BASIC v2 concise language spec or filtered by topic",
      "parameters": { "topic": "string" }
    },
    {
      "name": "asm_quick_reference",
      "description": "Get the 6502/6510 assembly quick reference or filter by topic keywords",
      "parameters": { "topic": "string" }
    },
    
    { "name": "version", "description": "Get c64 REST API version" },
    { "name": "info", "description": "Get device information" },
    { "name": "pause", "description": "Pause the machine via DMA" },
    { "name": "resume", "description": "Resume the machine from pause" },
    { "name": "poweroff", "description": "Power off the machine" },
    { "name": "menu_button", "description": "Toggle Ultimate menu button" },
    {
      "name": "debugreg_read",
      "description": "Read the $D7FF debug register"
    },
    {
      "name": "debugreg_write",
      "description": "Write the $D7FF debug register",
      "parameters": { "value": "string" }
    },
    { "name": "drives_list", "description": "List internal drives and images" },
    {
      "name": "drive_mount",
      "description": "Mount a disk image on a drive",
      "parameters": { "drive": "string", "image": "string", "type": "string", "mode": "string" }
    },
    { "name": "drive_remove", "description": "Remove a mounted image", "parameters": { "drive": "string" } },
    { "name": "drive_reset", "description": "Reset a drive", "parameters": { "drive": "string" } },
    { "name": "drive_on", "description": "Power on a drive", "parameters": { "drive": "string" } },
    { "name": "drive_off", "description": "Power off a drive", "parameters": { "drive": "string" } },
    { "name": "drive_mode", "description": "Set drive mode", "parameters": { "drive": "string", "mode": "string" } },
    { "name": "stream_start", "description": "Start a data stream", "parameters": { "stream": "string", "ip": "string" } },
    { "name": "stream_stop", "description": "Stop a data stream", "parameters": { "stream": "string" } },
    { "name": "config_list", "description": "List configuration categories" },
    { "name": "config_get", "description": "Get configuration item(s)", "parameters": { "category": "string", "item": "string" } },
    { "name": "config_set", "description": "Set configuration item", "parameters": { "category": "string", "item": "string", "value": "string" } },
    { "name": "config_batch_update", "description": "Batch update configuration", "parameters": { "payload": "object" } },
    { "name": "config_load_from_flash", "description": "Load configuration from flash" },
    { "name": "config_save_to_flash", "description": "Save configuration to flash" },
    { "name": "config_reset_to_default", "description": "Reset configuration to defaults" },
    { "name": "file_info", "description": "Inspect file metadata", "parameters": { "path": "string" } },
    { "name": "create_d64", "description": "Create D64 image", "parameters": { "path": "string", "tracks": "number", "diskname": "string" } },
    { "name": "create_d71", "description": "Create D71 image", "parameters": { "path": "string", "diskname": "string" } },
    { "name": "create_d81", "description": "Create D81 image", "parameters": { "path": "string", "diskname": "string" } },
    { "name": "create_dnp", "description": "Create DNP image", "parameters": { "path": "string", "tracks": "number", "diskname": "string" } },
    { "name": "run_prg_file", "description": "Run PRG from device filesystem", "parameters": { "path": "string" } },
    { "name": "load_prg_file", "description": "Load PRG into memory (no run)", "parameters": { "path": "string" } },
    { "name": "run_crt_file", "description": "Run cartridge image from filesystem", "parameters": { "path": "string" } },
    { "name": "sidplay_file", "description": "Play SID from filesystem", "parameters": { "path": "string", "songnr": "number" } },
    { "name": "modplay_file", "description": "Play MOD from filesystem", "parameters": { "path": "string" } },
    { "name": "sid_volume", "description": "Set SID master volume (0-15)", "parameters": { "volume": "number" } },
    { "name": "sid_reset", "description": "Reset or silence SID", "parameters": { "hard": "boolean" } },
    {
      "name": "sid_note_on",
      "description": "Start a SID note on a voice",
      "parameters": {
        "voice": "number",
        "note": "string",
        "frequencyHz": "number",
        "system": "string",
        "waveform": "string",
        "pulseWidth": "number",
        "attack": "number",
        "decay": "number",
        "sustain": "number",
        "release": "number"
      }
    },
    { "name": "sid_note_off", "description": "Release a SID voice", "parameters": { "voice": "number" } },
    {
      "name": "music_generate",
      "description": "Generate and play a simple arpeggio pattern",
      "parameters": { "root": "string", "pattern": "string", "steps": "number", "tempoMs": "number", "waveform": "string" }
    },
    { "name": "sid_silence_all", "description": "Silence all SID voices" },
    { "name": "sid_reference", "description": "Return the SID overview document" },
    { "name": "rag_retrieve_basic", "description": "Retrieve BASIC references for a query", "parameters": { "q": "string", "k": "number" } },
    {
      "name": "rag_retrieve_asm",
      "description": "Retrieve 6502/6510 assembly snippets and guidance for fast machine-code routines",
      "parameters": { "q": "string", "k": "number" }
    }
  ]
}
